{"version":3,"sources":["webpack:///./src/pages/register-wajah.vue?c02f","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime/helpers/esm/iterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","webpack:///./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","webpack:///src/pages/register-wajah.vue","webpack:///./src/pages/register-wajah.vue?0b4b","webpack:///./src/pages/register-wajah.vue","webpack:///./node_modules/core-js/modules/es.object.values.js","webpack:///./node_modules/core-js/modules/es.date.to-string.js","webpack:///./src/static/face-loading.gif","webpack:///./node_modules/core-js/modules/es.array.some.js","webpack:///./node_modules/@babel/runtime/helpers/esm/typeof.js","webpack:///./node_modules/core-js/internals/object-to-array.js","webpack:///./node_modules/core-js/modules/es.array-buffer.constructor.js","webpack:///./node_modules/core-js/modules/es.typed-array.float32-array.js","webpack:///./node_modules/core-js/modules/es.array.map.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","on","$event","$router","go","staticStyle","attrs","saveFace","directives","name","rawName","value","expression","vdata","domProps","target","composing","$set","_s","descriptors","length","zoomCamera","startScan","staticRenderFns","_arrayWithoutHoles","arr","Array","isArray","arrayLikeToArray","_iterableToArray","iter","Symbol","iterator","Object","from","_nonIterableSpread","TypeError","_toConsumableArray","arrayWithoutHoles","iterableToArray","unsupportedIterableToArray","nonIterableSpread","data","loop","user","users","descriptor","camera","loading","lanjut","showOutput","simpanOutput","layout","methods","extractImage","selectedFile","img","files","reader","FileReader","imgtag","document","getElementById","title","onload","event","src","result","readAsDataURL","startVideo","navigator","mediaDevices","dataURItoBlob","byteString","atob","dataURI","split","mimeString","ab","ArrayBuffer","ia","Uint8Array","i","charCodeAt","Blob","cekduplicate","window","user_directory","find","querySelector","classList","toggle","format","$datefns","Date","tgl","mounted","$store","state","hit_id","addEventListener","console","log","that","component","$","$values","values","stat","O","redefine","DatePrototype","prototype","INVALID_DATE","TO_STRING","nativeDateToString","getTime","NaN","call","module","exports","$some","some","arrayMethodIsStrict","STRICT_METHOD","proto","forced","callbackfn","arguments","undefined","_typeof","obj","constructor","DESCRIPTORS","objectKeys","toIndexedObject","propertyIsEnumerable","f","createMethod","TO_ENTRIES","it","key","keys","push","entries","global","arrayBufferModule","setSpecies","ARRAY_BUFFER","NativeArrayBuffer","createTypedArrayConstructor","init","byteOffset","$map","map","arrayMethodHasSpeciesSupport","HAS_SPECIES_SUPPORT"],"mappings":"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","file":"js/page-register-wajah.b5c6cfae.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"py-4 px-2 shadow bg-blue-light text-white font-bold\"},[_c('div',{staticClass:\"font-semibold text-xs mr-3 float-right mt-2\"},[_vm._v(\" Register Face \")]),_c('div',{staticClass:\"ml-2 cursor-pointer\",on:{\"click\":function($event){return _vm.$router.go(-1)}}},[_c('svg',{staticClass:\"d-inline mr-1\",staticStyle:{\"fill\":\"white\"},attrs:{\"width\":\"20\",\"height\":\"20\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 320 512\"}},[_c('path',{attrs:{\"d\":\"M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l192 192c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256 246.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-192 192z\"}})])])]),_c('div',{staticClass:\"row justify-content-center bg-black\",staticStyle:{\"height\":\"100vh\"}},[_c('div',{staticClass:\"col-8 mt-4 text-center\"},[_c('img',{staticStyle:{\"height\":\"120px\",\"width\":\"170px\",\"display\":\"block\",\"margin\":\"auto\"},attrs:{\"src\":\"\",\"id\":\"outputImage\",\"alt\":\"\"},on:{\"click\":_vm.saveFace}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.simpanOutput),expression:\"simpanOutput\"}],staticClass:\"mt-4\"},[_c('div',{staticClass:\"sm-form\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.vdata['hit_id']),expression:\"vdata['hit_id']\"}],staticClass:\"form-control p-2 rounded-lg shadow\",attrs:{\"type\":\"hit_id\",\"id\":\"hit_id\",\"name\":\"hit_id\",\"placeholder\":\"User ID\"},domProps:{\"value\":(_vm.vdata['hit_id'])},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.vdata, 'hit_id', $event.target.value)}}})]),_c('div',{staticClass:\"text-center\"},[_c('button',{staticClass:\"mt-2 btn btn-sm btn-warning p-h-2 rounded-lg font-semibold btn-block text-lg\",attrs:{\"type\":\"submit\"},on:{\"click\":_vm.saveFace}},[_c('i',{staticClass:\"fa-solid fa-face-smile\"}),_vm._v(\" Simpan \"+_vm._s(_vm.descriptors.length)+\" Wajah \")])])])]),_c('div',{staticClass:\"col-10 shadow rounded-lg p-3 my-2\"},[_c('div',[_c('video',{attrs:{\"id\":\"video\",\"height\":\"680\",\"width\":\"512\",\"autoplay\":\"\",\"muted\":\"\"},domProps:{\"muted\":true},on:{\"click\":_vm.zoomCamera}})])])]),_c('img',{staticStyle:{\"position\":\"absolute\",\"z-index\":\"-10\",\"top\":\"-10000px\",\"width\":\"512px\",\"height\":\"512px\"},attrs:{\"src\":\"\",\"id\":\"myimage\",\"alt\":\"\"}}),_c('button',{staticClass:\"btn btn-sm btn-style2 text-white \",staticStyle:{\"position\":\"fixed\",\"bottom\":\"20px\",\"right\":\"20px\"},attrs:{\"type\":\"button\"},on:{\"click\":_vm.startScan}},[_c('img',{staticClass:\"d-inline mr-2\",staticStyle:{\"height\":\"30px\"},attrs:{\"src\":require(\"@/static/face-loading.gif\"),\"alt\":\"\"}}),_vm._v(\" Take Picture \"),_c('span',{staticClass:\"ml-2 typcn typcn-camera text-2xl\"})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","<template>\r\n  <div>\r\n    <div class=\"py-4 px-2 shadow bg-blue-light text-white font-bold\">\r\n      <div class=\"font-semibold text-xs mr-3 float-right mt-2\">\r\n        Register Face\r\n      </div>\r\n      <div @click=\"$router.go(-1)\" class=\"ml-2 cursor-pointer\">\r\n          <svg  width=\"20\" height=\"20\" style=\"fill: white;\" class=\"d-inline mr-1\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 320 512\"><!--!Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path d=\"M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l192 192c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256 246.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-192 192z\"/></svg>\r\n      </div>\r\n    </div>\r\n    <div class=\"row justify-content-center bg-black\" style=\"height:100vh;\">\r\n      <div class=\"col-8 mt-4 text-center\">\r\n        <img\r\n          src=\"\"\r\n          @click=\"saveFace\"\r\n          id=\"outputImage\"\r\n          alt=\"\"\r\n          style=\"height: 120px; width: 170px; display: block; margin: auto\"\r\n        />\r\n        <div v-show=\"simpanOutput\" class=\"mt-4\">\r\n          <div class=\"sm-form\">\r\n            <input\r\n              type=\"hit_id\"\r\n              id=\"hit_id\"\r\n              name=\"hit_id\"\r\n              class=\"form-control p-2 rounded-lg shadow\"\r\n              placeholder=\"User ID\"\r\n              v-model=\"vdata['hit_id']\"\r\n            />\r\n          </div>\r\n          <div class=\"text-center\">\r\n            <button\r\n              type=\"submit\"\r\n              @click=\"saveFace\"\r\n              class=\"mt-2 btn btn-sm btn-warning p-h-2 rounded-lg font-semibold btn-block text-lg\"\r\n            >\r\n              <i class=\"fa-solid fa-face-smile\"></i> Simpan\r\n              {{ descriptors.length }} Wajah\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-10 shadow rounded-lg p-3 my-2\">\r\n        <div>\r\n          <video\r\n            @click=\"zoomCamera\"\r\n            id=\"video\"\r\n            style=\"\"\r\n            height=\"680\"\r\n            width=\"512\"\r\n            autoplay\r\n            muted\r\n          ></video>\r\n        </div>\r\n      </div>\r\n    \r\n    </div>\r\n    <img\r\n      src=\"\"\r\n      id=\"myimage\"\r\n      alt=\"\"\r\n      style=\"\r\n        position: absolute;\r\n        z-index: -10;\r\n        top: -10000px;\r\n        width: 512px;\r\n        height: 512px;\r\n      \"\r\n    />\r\n    <button\r\n      type=\"button\"\r\n      class=\"btn btn-sm btn-style2 text-white \"\r\n      style=\"position: fixed; bottom: 20px; right: 20px\"\r\n      @click=\"startScan\"\r\n    >\r\n     <img src=\"@/static/face-loading.gif\" style=\"height:30px;\" alt=\"\"  class=\"d-inline mr-2\"> Take Picture  <span class=\"ml-2 typcn typcn-camera text-2xl\"></span> \r\n    </button>\r\n  </div>\r\n</template>\r\n<script>\r\nlet file\r\n// import * as faceapi from 'face-api.js';\r\nimport * as faceapi from \"@vladmandic/face-api\";\r\nimport autophp from \"@/plugins/auto\";\r\nimport axios from \"axios\";\r\nlet sdb = new autophp(\"ci\", \"https://ebkm.my.id/\");\r\nexport default {\r\n  data() {\r\n    return {\r\n      loop: true,\r\n      user: [],\r\n      users: [],\r\n      descriptor: [],\r\n      descriptors: [],\r\n      vdata: {},\r\n      camera: \"depan\",\r\n      loading: true,\r\n      lanjut: false,\r\n      showOutput: false,\r\n      simpanOutput: false,\r\n    };\r\n  },\r\n  layout:'app',\r\n  methods: {\r\n    extractImage() {\r\n      let img = document.getElementById(\"filenya\");\r\n      var selectedFile = img.files[0];\r\n      var reader = new FileReader();\r\n\r\n      var imgtag = document.getElementById(\"myimage\");\r\n      imgtag.title = selectedFile.name;\r\n\r\n      reader.onload = function (event) {\r\n        imgtag.src = event.target.result;\r\n      };\r\n      reader.readAsDataURL(selectedFile);\r\n      this.startScan(imgtag, false);\r\n    },\r\n    // CAMERA BELAKANG\r\n    startVideo() {\r\n      let that = this;\r\n      const video = document.getElementById(\"video\");\r\n      navigator.mediaDevices\r\n        .getUserMedia({\r\n          video: {\r\n            facingMode: that.$store.state.camera?'user':'environment',\r\n            resizeMode: \"true\",\r\n            // , width: { ideal: 512 },height:{ideal:512}\r\n          },\r\n        })\r\n        .then(function (mediaStream) {\r\n          that.loading = false;\r\n          that.$forceUpdate();\r\n          video.srcObject = mediaStream;\r\n          video.src = window.URL.createObjectURL(mediaStream);\r\n          video.play();\r\n        });\r\n    },\r\n    // CAMERA DEPAN\r\n    dataURItoBlob(dataURI) {\r\n      var byteString = atob(dataURI.split(\",\")[1]);\r\n      var mimeString = dataURI.split(\",\")[0].split(\":\")[1].split(\";\")[0];\r\n      var ab = new ArrayBuffer(byteString.length);\r\n      var ia = new Uint8Array(ab);\r\n      for (var i = 0; i < byteString.length; i++) {\r\n        ia[i] = byteString.charCodeAt(i);\r\n      }\r\n      return new Blob([ab], { type: mimeString });\r\n    },\r\n    // START SCAN\r\n    async startScan(videoEl, source = true) {\r\n      sdb.alert('Extract Data Wajah','bg-blue-400')\r\n      let that = this;\r\n      // console.log('looping')\r\n      var video;\r\n      if (source) {\r\n        sdb.alert(\"video\", \"bg-yellow-400\");\r\n        video = document.getElementById(\"video\");\r\n        videoEl = video;\r\n      } else {\r\n        sdb.alert(\"Image\", \"bg-yellow-400\");\r\n        video = document.getElementById(\"myimage\");\r\n        videoEl = video;\r\n      }\r\n      function insertAfter(referenceNode, newNode) {\r\n        referenceNode.parentNode.insertBefore(\r\n          newNode,\r\n          referenceNode.nextSibling\r\n        );\r\n      }\r\n      var canvas = faceapi.createCanvasFromMedia(video);\r\n      canvas.style.position = \"absolute;\";\r\n      insertAfter(document.getElementById(\"video\"), canvas);\r\n      var displaySize = { width: video.width, height: video.height };\r\n      sdb.alert(\"scanning ...\", \"bg-green-400\");\r\n      console.log(displaySize);\r\n      faceapi.matchDimensions(canvas, displaySize);\r\n\r\n      faceapi.euclideanDistance([0, 0], [0, 20]);\r\n      // ===============================================\r\n      var users = [1];\r\n      var fullFaceDescription;\r\n      const descriptorCamera = await Promise.all(\r\n        users.map(async (label) => {\r\n          console.log(label);\r\n          // detect the face with the highest score in the image and compute it's landmarks and face descriptor\r\n          const useTinyModel = true;\r\n          fullFaceDescription = await faceapi.detectSingleFace(videoEl).withFaceLandmarks().withFaceDescriptor();\r\n          // fullFaceDescription = await faceapi.detectSingleFace(videoEl,new faceapi.TinyFaceDetectorOptions({inputSize: parseInt(that.$store.state.scanSize),})).withFaceLandmarks(useTinyModel).withFaceDescriptor();\r\n          console.log(fullFaceDescription);\r\n          if (!fullFaceDescription) {\r\n            // console.log(`no faces detected for ${JSON.stringify(label)}`)\r\n          } else {\r\n            // console.log('face detect onn')\r\n            that.extractFaceFromBox(videoEl, fullFaceDescription.detection.box);\r\n            const resizedDetections = faceapi.resizeResults(\r\n              fullFaceDescription,\r\n              displaySize\r\n            );\r\n            canvas\r\n              .getContext(\"2d\")\r\n              .clearRect(0, 0, canvas.width, canvas.height);\r\n            faceapi.draw.drawDetections(canvas, resizedDetections);\r\n            // console.log('draw box')\r\n            document.querySelectorAll(\"canvas\").forEach((e, i) => {\r\n              if (i > 0) {\r\n                e.remove();\r\n              }\r\n            });\r\n            console.log(3);\r\n            // mengconvert data face descriptor ke type Float32Array\r\n            const faceDescriptors = [\r\n              new Float32Array(fullFaceDescription.descriptor),\r\n            ];\r\n            // that.cekduplicate();\r\n            return faceDescriptors;\r\n          }\r\n        })\r\n      );\r\n      that.tidakDikenali(descriptorCamera);\r\n      // that.cekduplicate(descriptorCamera,fullFaceDescription);\r\n      // if(that.$store.state.loop=='true'){\r\n      //     that.$store.state.perulanganAbsen1 = setTimeout(() => that.startScan(videoEl),3000)\r\n      // }\r\n    },\r\n    cekduplicate(descriptorCamera, fullFaceDescription) {\r\n      let that = this;\r\n      window.user_directory.find({}, async (err, docs) => {\r\n        if (docs.length > 0) {\r\n          docs = docs.filter((e) => {\r\n            if (e.facejson) {\r\n              return e;\r\n            }\r\n          });\r\n          if (docs.length > 0) {\r\n            const labeledFaceDescriptors = await Promise.all(\r\n              docs.map(async (label) => {\r\n                if (label.facejson) {\r\n                  const faceDescriptors = [];\r\n                  label.facejson.forEach((e) => {\r\n                    faceDescriptors.push(new Float32Array(Object.values(e[0]))); // multiple facejson data\r\n                  });\r\n                  return new faceapi.LabeledFaceDescriptors(\r\n                    JSON.stringify({\r\n                      EMP_NO: label.EMP_NO,\r\n                      _id: label._id,\r\n                      FULL_NAME: label.FULL_NAME,\r\n                    }),\r\n                    faceDescriptors\r\n                  );\r\n                }\r\n              })\r\n            );\r\n            const maxDescriptorDistance =\r\n              parseInt(that.$store.state.akurasiWajah) / 100;\r\n            const faceMatcher = new faceapi.FaceMatcher(\r\n              labeledFaceDescriptors,\r\n              maxDescriptorDistance\r\n            );\r\n            if (fullFaceDescription) {\r\n              console.log(\"fullFaceDescription\", fullFaceDescription);\r\n              const results = faceMatcher.findBestMatch(\r\n                fullFaceDescription.descriptor\r\n              );\r\n              console.log(\"results\", results);\r\n              if (results._label == \"unknown\") {\r\n                if (descriptorCamera[0]) {\r\n                  that.tidakDikenali(descriptorCamera);\r\n                }\r\n              } else {\r\n                let user = JSON.parse(results.label);\r\n                console.log(\"user\", results);\r\n                console.log(\"user[0]\", that.user);\r\n                if (user.EMP_NO == that.user[0].EMP_NO) {\r\n                  if (descriptorCamera[0]) {\r\n                    sdb.alert(\r\n                      \"Wajah ini milik\" + user.FULL_NAME + \", tambahkan lagi?\",\r\n                      \"bg-purple-400\",\r\n                      \"top:80px;right:30px;\"\r\n                    );\r\n                    that.lanjut = true;\r\n                    that.simpanOutput = true;\r\n                    that.descriptor = descriptorCamera;\r\n                    that.$forceUpdate();\r\n                  }\r\n                } else {\r\n                  sdb.alert(\r\n                    `Wajah ini mirip dengan ${user.FULL_NAME}`,\r\n                    \"bg-red-500\",\r\n                    \"top:80px;right:30px;\"\r\n                  );\r\n                  if (\r\n                    confirm(\r\n                      `Wajah ini mirip dengan ${user.FULL_NAME}, Yakin tambahkan di user baru?`\r\n                    )\r\n                  ) {\r\n                    that.tidakDikenali(descriptorCamera);\r\n                  } else {\r\n                    that.simpanOutput = false;\r\n                    that.$forceUpdate();\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          } else {\r\n            if (descriptorCamera[0]) {\r\n              that.tidakDikenali(descriptorCamera);\r\n            }\r\n          }\r\n        } else {\r\n          if (descriptorCamera[0]) {\r\n            that.tidakDikenali(descriptorCamera);\r\n          }\r\n        }\r\n      });\r\n    },\r\n    async tidakDikenali(descriptorCamera) {\r\n      let that = this;\r\n      that.simpanOutput = true;\r\n      that.descriptor = descriptorCamera;\r\n      if(descriptorCamera[0]){\r\n          that.descriptors.push(descriptorCamera[0]);\r\n          sdb.alert(\r\n              \"Total data Wajah : \" + that.descriptors.length,\r\n              \"bg-dark\",\r\n              \"top:80px;right:30px;\"\r\n          );\r\n          if (that.descriptors.length >= 3) {\r\n          }\r\n          that.$forceUpdate();\r\n      }else{\r\n        sdb.alert('Wajah tidak ditemukan coba lagi !')\r\n      }\r\n    },\r\n    async extractFaceFromBox(inputImage, box) {\r\n      let outputImage = document.getElementById(\"outputImage\");\r\n      this.showOutput = true;\r\n      this.$forceUpdate();\r\n      const regionsToExtract = [\r\n        new faceapi.Rect(box.x, box.y, box.width, box.height),\r\n      ];\r\n\r\n      let faceImages = await faceapi.extractFaces(inputImage, regionsToExtract);\r\n\r\n      if (faceImages.length == 0) {\r\n        console.log(\"Face not found\");\r\n      } else {\r\n        faceImages.forEach((cnv) => {\r\n          outputImage.src = cnv.toDataURL();\r\n        });\r\n      }\r\n    },\r\n    async saveFace() {\r\n      let that = this;\r\n      sdb.alert('Uploading Data Wajah','bg-blue-400')\r\n      sdb.loadingOn()\r\n      let video = document.getElementById(\"video\");\r\n      var canvas = document.createElement('canvas');\r\n      canvas.width = video.videoWidth;\r\n      canvas.height = video.videoHeight;\r\n      var ctx = canvas.getContext('2d');\r\n      ctx.drawImage(video, 0, 0, canvas.width, canvas.height);\r\n      var dataURL = canvas.toDataURL('image/png');\r\n      var blobBin = atob(dataURL.split(',')[1]);\r\n      var array = [];\r\n      for(var i = 0; i < blobBin.length; i++) {\r\n          array.push(blobBin.charCodeAt(i));\r\n      }\r\n      var file = new Blob([new Uint8Array(array)], { type: 'image/png' });\r\n      let fd = new FormData();\r\n      fd.append(\"employee_id\", this.vdata.hit_id);\r\n      fd.append('file',file)\r\n      fd.append(\"faces\", JSON.stringify(this.descriptors));\r\n      window.employees.update({ hit_id: that.$store.state.employee.hit_id }, { $set: { faces: JSON.stringify(that.descriptors), source_data:'local' } }, { multi: true }, function (err, numReplaced) {});\r\n      try{\r\n        let res = await axios.post(\r\n          this.$store.state.baseURL + \"/api/hit/register-face\",\r\n          fd\r\n        );\r\n        console.log(res);\r\n        that.$store.dispatch('update_employees')\r\n        setTimeout(() => {\r\n          if(res.data==true){\r\n            this.$router.push('/login')\r\n          }  \r\n        }, 1000);\r\n      }catch(err){\r\n        this.$router.push('/main')\r\n      }\r\n      sdb.loadingOff()\r\n    },\r\n    async simpanDataWajah() {\r\n      let that = this;\r\n      return new Promise((resolve, reject) => {\r\n        sdb.loadingOn();\r\n        that.$forceUpdate();\r\n        window.user_directory.find({}, async function (err, docs) {\r\n          if (docs.length > 0) {\r\n            let hasil = await sdb\r\n              .collection(\"zharp_t_empmst\")\r\n              .select(\r\n                'select EMP_NO,ID_UPDATE from zharp_t_empmst where MANDT=\"820\"'\r\n              );\r\n            function getDifference(array1, array2) {\r\n              return array1.filter((object1) => {\r\n                return !array2.some((object2) => {\r\n                  return object1.ID_UPDATE === object2.ID_UPDATE;\r\n                });\r\n              });\r\n            }\r\n            let difference = [...getDifference(docs, hasil.data)];\r\n            console.log(\"difference\", difference);\r\n            difference.forEach(async (e) => {\r\n              let facejson =\r\n                typeof e[\"facejson\"] != \"string\"\r\n                  ? JSON.stringify(e[\"facejson\"])\r\n                  : \"\";\r\n              let hasil = {};\r\n              if (e[\"facejson\"]) {\r\n                var file = that.dataURItoBlob(\r\n                  `${e[\"facegambar\"]}`,\r\n                  `${e[\"EMP_NO\"]}.png`\r\n                );\r\n                let fd = new FormData();\r\n                fd.append(\"file\", file);\r\n                fd.append(\"nama_file\", e[\"EMP_NO\"]);\r\n                fd.append(\"secret\", sdb.scramble(\"hit\"));\r\n                hasil = await axios.post(\r\n                  \"https://ebkm.my.id/\" + \"/assets/upload.php\",\r\n                  fd,\r\n                  {\r\n                    timeout: 10000,\r\n                    headers: {\r\n                      \"Content-Type\": \"multipart/form-data\",\r\n                    },\r\n                  }\r\n                );\r\n                await sdb.collection(\"zharp_t_empmst\").select(`\r\n                                    update zharp_t_empmst set \r\n                                    facejson='${facejson}',\r\n                                    ID_UPDATE='${e[\"ID_UPDATE\"]}',\r\n                                    facegambar='${\r\n                                      hasil.data\r\n                                        ? `https://ebkm.my.id/assets/${hasil.data}`\r\n                                        : \"\"\r\n                                    }'\r\n                                    where EMP_NO='${\r\n                                      e[\"EMP_NO\"]\r\n                                    }' AND MANDT='820'\r\n                                `);\r\n              }\r\n            });\r\n            sdb.alert(\"Berhasil upload data wajah pegawai!\", \"bg-blue-400\");\r\n            sdb.loadingOff();\r\n            that.$forceUpdate();\r\n            resolve();\r\n          }\r\n        });\r\n      });\r\n    },\r\n    zoomCamera() {\r\n      document.querySelector(\"#video\").classList.toggle(\"scale2\");\r\n    },\r\n    format(tgl) {\r\n      return this.$datefns.format(new Date(tgl), \"YYYYMMDDHHmmss\");\r\n    },\r\n  },\r\n  mounted() {\r\n    let that = this;\r\n    if (this.$store.state.hit_id) {\r\n      this.vdata.hit_id = this.$store.state.hit_id;\r\n    }\r\n    if (typeof cordova == \"object\") {\r\n      document.addEventListener(\"deviceready\", function () {\r\n        console.log(\"faceapi\", faceapi);\r\n        that.startVideo();\r\n      });\r\n    } else {\r\n      that.startVideo();\r\n    }\r\n  },\r\n};\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./register-wajah.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./register-wajah.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./register-wajah.vue?vue&type=template&id=54965883&\"\nimport script from \"./register-wajah.vue?vue&type=script&lang=js&\"\nexport * from \"./register-wajah.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var $ = require('../internals/export');\nvar $values = require('../internals/object-to-array').values;\n\n// `Object.values` method\n// https://tc39.es/ecma262/#sec-object.values\n$({ target: 'Object', stat: true }, {\n  values: function values(O) {\n    return $values(O);\n  }\n});\n","var redefine = require('../internals/redefine');\n\nvar DatePrototype = Date.prototype;\nvar INVALID_DATE = 'Invalid Date';\nvar TO_STRING = 'toString';\nvar nativeDateToString = DatePrototype[TO_STRING];\nvar getTime = DatePrototype.getTime;\n\n// `Date.prototype.toString` method\n// https://tc39.es/ecma262/#sec-date.prototype.tostring\nif (new Date(NaN) + '' != INVALID_DATE) {\n  redefine(DatePrototype, TO_STRING, function toString() {\n    var value = getTime.call(this);\n    // eslint-disable-next-line no-self-compare -- NaN check\n    return value === value ? nativeDateToString.call(this) : INVALID_DATE;\n  });\n}\n","module.exports = __webpack_public_path__ + \"img/face-loading.e13af414.gif\";","'use strict';\nvar $ = require('../internals/export');\nvar $some = require('../internals/array-iteration').some;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar STRICT_METHOD = arrayMethodIsStrict('some');\n\n// `Array.prototype.some` method\n// https://tc39.es/ecma262/#sec-array.prototype.some\n$({ target: 'Array', proto: true, forced: !STRICT_METHOD }, {\n  some: function some(callbackfn /* , thisArg */) {\n    return $some(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}","var DESCRIPTORS = require('../internals/descriptors');\nvar objectKeys = require('../internals/object-keys');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar propertyIsEnumerable = require('../internals/object-property-is-enumerable').f;\n\n// `Object.{ entries, values }` methods implementation\nvar createMethod = function (TO_ENTRIES) {\n  return function (it) {\n    var O = toIndexedObject(it);\n    var keys = objectKeys(O);\n    var length = keys.length;\n    var i = 0;\n    var result = [];\n    var key;\n    while (length > i) {\n      key = keys[i++];\n      if (!DESCRIPTORS || propertyIsEnumerable.call(O, key)) {\n        result.push(TO_ENTRIES ? [key, O[key]] : O[key]);\n      }\n    }\n    return result;\n  };\n};\n\nmodule.exports = {\n  // `Object.entries` method\n  // https://tc39.es/ecma262/#sec-object.entries\n  entries: createMethod(true),\n  // `Object.values` method\n  // https://tc39.es/ecma262/#sec-object.values\n  values: createMethod(false)\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar arrayBufferModule = require('../internals/array-buffer');\nvar setSpecies = require('../internals/set-species');\n\nvar ARRAY_BUFFER = 'ArrayBuffer';\nvar ArrayBuffer = arrayBufferModule[ARRAY_BUFFER];\nvar NativeArrayBuffer = global[ARRAY_BUFFER];\n\n// `ArrayBuffer` constructor\n// https://tc39.es/ecma262/#sec-arraybuffer-constructor\n$({ global: true, forced: NativeArrayBuffer !== ArrayBuffer }, {\n  ArrayBuffer: ArrayBuffer\n});\n\nsetSpecies(ARRAY_BUFFER);\n","var createTypedArrayConstructor = require('../internals/typed-array-constructor');\n\n// `Float32Array` constructor\n// https://tc39.es/ecma262/#sec-typedarray-objects\ncreateTypedArrayConstructor('Float32', function (init) {\n  return function Float32Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n\n// `Array.prototype.map` method\n// https://tc39.es/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n"],"sourceRoot":""}